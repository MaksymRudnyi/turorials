{"ast":null,"code":"'use strict';\n\nvar BN = require('bn.js');\n\nvar utils = require('../utils');\n\nvar assert = utils.assert;\n\nfunction Signature(options, enc) {\n  if (options instanceof Signature) return options;\n  if (this._importDER(options, enc)) return;\n  assert(options.r && options.s, 'Signature without r or s');\n  this.r = new BN(options.r, 16);\n  this.s = new BN(options.s, 16);\n  if (options.recoveryParam === undefined) this.recoveryParam = null;else this.recoveryParam = options.recoveryParam;\n}\n\nmodule.exports = Signature;\n\nfunction Position() {\n  this.place = 0;\n}\n\nfunction getLength(buf, p) {\n  var initial = buf[p.place++];\n\n  if (!(initial & 0x80)) {\n    return initial;\n  }\n\n  var octetLen = initial & 0xf; // Indefinite length or overflow\n\n  if (octetLen === 0 || octetLen > 4) {\n    return false;\n  }\n\n  var val = 0;\n\n  for (var i = 0, off = p.place; i < octetLen; i++, off++) {\n    val <<= 8;\n    val |= buf[off];\n    val >>>= 0;\n  } // Leading zeroes\n\n\n  if (val <= 0x7f) {\n    return false;\n  }\n\n  p.place = off;\n  return val;\n}\n\nfunction rmPadding(buf) {\n  var i = 0;\n  var len = buf.length - 1;\n\n  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {\n    i++;\n  }\n\n  if (i === 0) {\n    return buf;\n  }\n\n  return buf.slice(i);\n}\n\nSignature.prototype._importDER = function _importDER(data, enc) {\n  data = utils.toArray(data, enc);\n  var p = new Position();\n\n  if (data[p.place++] !== 0x30) {\n    return false;\n  }\n\n  var len = getLength(data, p);\n\n  if (len === false) {\n    return false;\n  }\n\n  if (len + p.place !== data.length) {\n    return false;\n  }\n\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n\n  var rlen = getLength(data, p);\n\n  if (rlen === false) {\n    return false;\n  }\n\n  var r = data.slice(p.place, rlen + p.place);\n  p.place += rlen;\n\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n\n  var slen = getLength(data, p);\n\n  if (slen === false) {\n    return false;\n  }\n\n  if (data.length !== slen + p.place) {\n    return false;\n  }\n\n  var s = data.slice(p.place, slen + p.place);\n\n  if (r[0] === 0) {\n    if (r[1] & 0x80) {\n      r = r.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  if (s[0] === 0) {\n    if (s[1] & 0x80) {\n      s = s.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  this.r = new BN(r);\n  this.s = new BN(s);\n  this.recoveryParam = null;\n  return true;\n};\n\nfunction constructLength(arr, len) {\n  if (len < 0x80) {\n    arr.push(len);\n    return;\n  }\n\n  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);\n  arr.push(octets | 0x80);\n\n  while (--octets) {\n    arr.push(len >>> (octets << 3) & 0xff);\n  }\n\n  arr.push(len);\n}\n\nSignature.prototype.toDER = function toDER(enc) {\n  var r = this.r.toArray();\n  var s = this.s.toArray(); // Pad values\n\n  if (r[0] & 0x80) r = [0].concat(r); // Pad values\n\n  if (s[0] & 0x80) s = [0].concat(s);\n  r = rmPadding(r);\n  s = rmPadding(s);\n\n  while (!s[0] && !(s[1] & 0x80)) {\n    s = s.slice(1);\n  }\n\n  var arr = [0x02];\n  constructLength(arr, r.length);\n  arr = arr.concat(r);\n  arr.push(0x02);\n  constructLength(arr, s.length);\n  var backHalf = arr.concat(s);\n  var res = [0x30];\n  constructLength(res, backHalf.length);\n  res = res.concat(backHalf);\n  return utils.encode(res, enc);\n};","map":{"version":3,"names":["BN","require","utils","assert","Signature","options","enc","_importDER","r","s","recoveryParam","undefined","module","exports","Position","place","getLength","buf","p","initial","octetLen","val","i","off","rmPadding","len","length","slice","prototype","data","toArray","rlen","slen","constructLength","arr","push","octets","Math","log","LN2","toDER","concat","backHalf","res","encode"],"sources":["C:/Users/apinto2/Desktop/teswordtomd/12 setembro/UPLOAD 9/turorials/client/node_modules/elliptic/lib/elliptic/ec/signature.js"],"sourcesContent":["'use strict';\n\nvar BN = require('bn.js');\n\nvar utils = require('../utils');\nvar assert = utils.assert;\n\nfunction Signature(options, enc) {\n  if (options instanceof Signature)\n    return options;\n\n  if (this._importDER(options, enc))\n    return;\n\n  assert(options.r && options.s, 'Signature without r or s');\n  this.r = new BN(options.r, 16);\n  this.s = new BN(options.s, 16);\n  if (options.recoveryParam === undefined)\n    this.recoveryParam = null;\n  else\n    this.recoveryParam = options.recoveryParam;\n}\nmodule.exports = Signature;\n\nfunction Position() {\n  this.place = 0;\n}\n\nfunction getLength(buf, p) {\n  var initial = buf[p.place++];\n  if (!(initial & 0x80)) {\n    return initial;\n  }\n  var octetLen = initial & 0xf;\n\n  // Indefinite length or overflow\n  if (octetLen === 0 || octetLen > 4) {\n    return false;\n  }\n\n  var val = 0;\n  for (var i = 0, off = p.place; i < octetLen; i++, off++) {\n    val <<= 8;\n    val |= buf[off];\n    val >>>= 0;\n  }\n\n  // Leading zeroes\n  if (val <= 0x7f) {\n    return false;\n  }\n\n  p.place = off;\n  return val;\n}\n\nfunction rmPadding(buf) {\n  var i = 0;\n  var len = buf.length - 1;\n  while (!buf[i] && !(buf[i + 1] & 0x80) && i < len) {\n    i++;\n  }\n  if (i === 0) {\n    return buf;\n  }\n  return buf.slice(i);\n}\n\nSignature.prototype._importDER = function _importDER(data, enc) {\n  data = utils.toArray(data, enc);\n  var p = new Position();\n  if (data[p.place++] !== 0x30) {\n    return false;\n  }\n  var len = getLength(data, p);\n  if (len === false) {\n    return false;\n  }\n  if ((len + p.place) !== data.length) {\n    return false;\n  }\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var rlen = getLength(data, p);\n  if (rlen === false) {\n    return false;\n  }\n  var r = data.slice(p.place, rlen + p.place);\n  p.place += rlen;\n  if (data[p.place++] !== 0x02) {\n    return false;\n  }\n  var slen = getLength(data, p);\n  if (slen === false) {\n    return false;\n  }\n  if (data.length !== slen + p.place) {\n    return false;\n  }\n  var s = data.slice(p.place, slen + p.place);\n  if (r[0] === 0) {\n    if (r[1] & 0x80) {\n      r = r.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n  if (s[0] === 0) {\n    if (s[1] & 0x80) {\n      s = s.slice(1);\n    } else {\n      // Leading zeroes\n      return false;\n    }\n  }\n\n  this.r = new BN(r);\n  this.s = new BN(s);\n  this.recoveryParam = null;\n\n  return true;\n};\n\nfunction constructLength(arr, len) {\n  if (len < 0x80) {\n    arr.push(len);\n    return;\n  }\n  var octets = 1 + (Math.log(len) / Math.LN2 >>> 3);\n  arr.push(octets | 0x80);\n  while (--octets) {\n    arr.push((len >>> (octets << 3)) & 0xff);\n  }\n  arr.push(len);\n}\n\nSignature.prototype.toDER = function toDER(enc) {\n  var r = this.r.toArray();\n  var s = this.s.toArray();\n\n  // Pad values\n  if (r[0] & 0x80)\n    r = [ 0 ].concat(r);\n  // Pad values\n  if (s[0] & 0x80)\n    s = [ 0 ].concat(s);\n\n  r = rmPadding(r);\n  s = rmPadding(s);\n\n  while (!s[0] && !(s[1] & 0x80)) {\n    s = s.slice(1);\n  }\n  var arr = [ 0x02 ];\n  constructLength(arr, r.length);\n  arr = arr.concat(r);\n  arr.push(0x02);\n  constructLength(arr, s.length);\n  var backHalf = arr.concat(s);\n  var res = [ 0x30 ];\n  constructLength(res, backHalf.length);\n  res = res.concat(backHalf);\n  return utils.encode(res, enc);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}