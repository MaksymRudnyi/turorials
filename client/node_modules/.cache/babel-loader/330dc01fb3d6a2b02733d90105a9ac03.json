{"ast":null,"code":"var TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\n\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n  if (state.layoutType === \"definitionList\" && state.spanningLayout && stream.match(RE(\"definitionListEnd\"), false)) state.spanningLayout = false;\n}\n\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\")) return togglePhraseModifier(stream, state, \"italic\", /__/, 2);else return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec) return TOKEN_STYLES.specialChar;\n  }\n\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/)) return TOKEN_STYLES.html;\n  if (ch === \"?\" && stream.eat(\"?\")) return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n  if (ch === \"=\" && stream.eat(\"=\")) return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n  if (ch === \"-\" && !stream.eat(\"-\")) return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n  if (ch === \"+\") return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n  if (ch === \"~\") return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n  if (ch === \"^\") return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n  if (ch === \"%\") return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n  if (ch === \"@\") return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n\n    return type;\n  }\n\n  return tokenStyles(state);\n}\n\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) && stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n\n  return tokenStyles(state);\n}\n\n;\n\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n  styles = styles.concat(activeStyles(state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\", \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n  if (state.layoutType === \"header\") styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n  return styles.length ? styles.join(\" \") : null;\n}\n\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n\n  switch (type) {\n    case \"notextile\":\n    case \"code\":\n    case \"pre\":\n      return TOKEN_STYLES[type];\n\n    default:\n      if (state.notextile) return TOKEN_STYLES.notextile + (type ? \" \" + TOKEN_STYLES[type] : \"\");\n      return null;\n  }\n}\n\nfunction activeStyles(state) {\n  var styles = [];\n\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]]) styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n\n  return styles;\n}\n\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout,\n      type = state.layoutType;\n\n  for (var key in state) if (state.hasOwnProperty(key)) delete state[key];\n\n  state.mode = Modes.newLayout;\n\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\n\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function (name) {\n    switch (name) {\n      case \"drawTable\":\n        return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n\n      case \"html\":\n        return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n\n      case \"linkDefinition\":\n        return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n\n      case \"listLayout\":\n        return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n\n      case \"tableCellAttributes\":\n        return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes, RE(\"allAttributes\")), \"+\\\\.\");\n\n      case \"type\":\n        return REs.makeRe(\"^\", RE(\"allTypes\"));\n\n      case \"typeLayout\":\n        return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"), \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n\n      case \"attributes\":\n        return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n\n      case \"allTypes\":\n        return REs.choiceRe(REs.single.div, REs.single.foot, REs.single.header, REs.single.bc, REs.single.bq, REs.single.notextile, REs.single.pre, REs.single.table, REs.single.para);\n\n      case \"allAttributes\":\n        return REs.choiceRe(REs.attributes.selector, REs.attributes.css, REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n\n      default:\n        return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function () {\n    var pattern = \"\";\n\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += typeof arg === \"string\" ? arg : arg.source;\n    }\n\n    return new RegExp(pattern);\n  },\n  choiceRe: function () {\n    var parts = [arguments[0]];\n\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\n\nfunction RE(name) {\n  return REs.cache[name] || (REs.cache[name] = REs.createRe(name));\n}\n\nvar Modes = {\n  newLayout: function (stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n\n    var newMode;\n\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false)) newMode = Modes.list;else if (stream.match(RE(\"drawTable\"), false)) newMode = Modes.table;else if (stream.match(RE(\"linkDefinition\"), false)) newMode = Modes.linkDefinition;else if (stream.match(RE(\"definitionList\"))) newMode = Modes.definitionList;else if (stream.match(RE(\"html\"), false)) newMode = Modes.html;\n    }\n\n    return (state.mode = newMode || Modes.text)(stream, state);\n  },\n  blockType: function (stream, state) {\n    var match, type;\n    state.layoutType = null;\n    if (match = stream.match(RE(\"type\"))) type = match[0];else return (state.mode = Modes.text)(stream, state);\n\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  text: function (stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n    var ch = stream.next();\n    if (ch === '\"') return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n  attributes: function (stream, state) {\n    state.mode = Modes.layoutLength;\n    if (stream.match(RE(\"attributes\"))) return TOKEN_STYLES.attributes;else return tokenStyles(state);\n  },\n  layoutLength: function (stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\")) state.spanningLayout = true;\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n  list: function (stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod) state.layoutType = \"list1\";else if (listMod === 1) state.layoutType = \"list2\";else state.layoutType = \"list3\";\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  link: function (stream, state) {\n    state.mode = Modes.text;\n\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link;\n    }\n\n    return tokenStyles(state);\n  },\n  linkDefinition: function (stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition;\n  },\n  definitionList: function (stream, state) {\n    stream.match(RE(\"definitionList\"));\n    state.layoutType = \"definitionList\";\n    if (stream.match(/\\s*$/)) state.spanningLayout = true;else state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  html: function (stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html;\n  },\n  table: function (stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n  tableCell: function (stream, state) {\n    if (stream.match(RE(\"tableHeading\"))) state.tableHeading = true;else stream.eat(\"|\");\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n  tableCellAttributes: function (stream, state) {\n    state.mode = Modes.tableText;\n    if (stream.match(RE(\"tableCellAttributes\"))) return TOKEN_STYLES.attributes;else return tokenStyles(state);\n  },\n  tableText: function (stream, state) {\n    if (stream.match(RE(\"tableText\"))) return tokenStyles(state);\n\n    if (stream.peek() === \"|\") {\n      // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\nexport const textile = {\n  startState: function () {\n    return {\n      mode: Modes.newLayout\n    };\n  },\n  token: function (stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};","map":{"version":3,"names":["TOKEN_STYLES","addition","attributes","bold","cite","code","definitionList","deletion","div","em","footnote","footCite","header","html","image","italic","link","linkDefinition","list1","list2","list3","notextile","pre","p","quote","span","specialChar","strong","sub","sup","table","tableHeading","startNewLine","stream","state","mode","Modes","newLayout","layoutType","spanningLayout","match","RE","handlePhraseModifier","ch","eat","togglePhraseModifier","tokenStyles","spec","type","phraseModifier","closeRE","openSize","charBefore","pos","string","charAt","charAfter","peek","test","RegExp","source","disabled","textileDisabled","styles","push","concat","activeStyles","length","join","i","arguments","blankLine","key","hasOwnProperty","REs","cache","single","bc","bq","definitionListEnd","drawTable","foot","list","para","tableCellAttributes","tableText","text","align","selector","lang","pad","css","createRe","name","makeRe","choiceRe","pattern","arg","parts","unshift","apply","blockType","newMode","parseInt","next","layoutLength","listDepth","listMod","skipToEnd","tableCell","textile","startState","token","sol"],"sources":["C:/Users/apinto2/Desktop/teswordtomd/12 setembro/UPLOAD 9/turorials/client/node_modules/@codemirror/legacy-modes/mode/textile.js"],"sourcesContent":["var TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\n\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n\n  if (state.layoutType === \"definitionList\" && state.spanningLayout &&\n      stream.match(RE(\"definitionListEnd\"), false))\n    state.spanningLayout = false;\n}\n\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\"))\n      return togglePhraseModifier(stream, state, \"italic\", /__/, 2);\n    else\n      return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec)\n      return TOKEN_STYLES.specialChar\n  }\n\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/))\n    return TOKEN_STYLES.html\n\n  if (ch === \"?\" && stream.eat(\"?\"))\n    return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n\n  if (ch === \"=\" && stream.eat(\"=\"))\n    return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n\n  if (ch === \"-\" && !stream.eat(\"-\"))\n    return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n\n  if (ch === \"+\")\n    return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n\n  if (ch === \"~\")\n    return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n\n  if (ch === \"^\")\n    return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n\n  if (ch === \"%\")\n    return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n\n  if (ch === \"@\")\n    return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n    return type;\n  }\n  return tokenStyles(state);\n}\n\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) &&\n             stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n  return tokenStyles(state);\n};\n\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n\n  styles = styles.concat(activeStyles(\n    state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\",\n    \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n\n  if (state.layoutType === \"header\")\n    styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n\n  return styles.length ? styles.join(\" \") : null;\n}\n\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n\n  switch(type) {\n  case \"notextile\":\n  case \"code\":\n  case \"pre\":\n    return TOKEN_STYLES[type];\n  default:\n    if (state.notextile)\n      return TOKEN_STYLES.notextile + (type ? (\" \" + TOKEN_STYLES[type]) : \"\");\n    return null;\n  }\n}\n\nfunction activeStyles(state) {\n  var styles = [];\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]])\n      styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n  return styles;\n}\n\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout, type = state.layoutType;\n\n  for (var key in state) if (state.hasOwnProperty(key))\n    delete state[key];\n\n  state.mode = Modes.newLayout;\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\n\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function(name) {\n    switch (name) {\n    case \"drawTable\":\n      return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n    case \"html\":\n      return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n    case \"linkDefinition\":\n      return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n    case \"listLayout\":\n      return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n    case \"tableCellAttributes\":\n      return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes,\n                                          RE(\"allAttributes\")), \"+\\\\.\");\n    case \"type\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"));\n    case \"typeLayout\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"),\n                        \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n    case \"attributes\":\n      return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n\n    case \"allTypes\":\n      return REs.choiceRe(REs.single.div, REs.single.foot,\n                          REs.single.header, REs.single.bc, REs.single.bq,\n                          REs.single.notextile, REs.single.pre, REs.single.table,\n                          REs.single.para);\n\n    case \"allAttributes\":\n      return REs.choiceRe(REs.attributes.selector, REs.attributes.css,\n                          REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n\n    default:\n      return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function() {\n    var pattern = \"\";\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += (typeof arg === \"string\") ? arg : arg.source;\n    }\n    return new RegExp(pattern);\n  },\n  choiceRe: function() {\n    var parts = [arguments[0]];\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\n\nfunction RE(name) {\n  return (REs.cache[name] || (REs.cache[name] = REs.createRe(name)));\n}\n\nvar Modes = {\n  newLayout: function(stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n    var newMode;\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false))\n        newMode = Modes.list;\n      else if (stream.match(RE(\"drawTable\"), false))\n        newMode = Modes.table;\n      else if (stream.match(RE(\"linkDefinition\"), false))\n        newMode = Modes.linkDefinition;\n      else if (stream.match(RE(\"definitionList\")))\n        newMode = Modes.definitionList;\n      else if (stream.match(RE(\"html\"), false))\n        newMode = Modes.html;\n    }\n    return (state.mode = (newMode || Modes.text))(stream, state);\n  },\n\n  blockType: function(stream, state) {\n    var match, type;\n    state.layoutType = null;\n\n    if (match = stream.match(RE(\"type\")))\n      type = match[0];\n    else\n      return (state.mode = Modes.text)(stream, state);\n\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  text: function(stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n\n    var ch = stream.next();\n    if (ch === '\"')\n      return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n\n  attributes: function(stream, state) {\n    state.mode = Modes.layoutLength;\n\n    if (stream.match(RE(\"attributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  layoutLength: function(stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\"))\n      state.spanningLayout = true;\n\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n\n  list: function(stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod)\n      state.layoutType = \"list1\";\n    else if (listMod === 1)\n      state.layoutType = \"list2\";\n    else\n      state.layoutType = \"list3\";\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  link: function(stream, state) {\n    state.mode = Modes.text;\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link\n    }\n    return tokenStyles(state);\n  },\n\n  linkDefinition: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition\n  },\n\n  definitionList: function(stream, state) {\n    stream.match(RE(\"definitionList\"));\n\n    state.layoutType = \"definitionList\";\n\n    if (stream.match(/\\s*$/))\n      state.spanningLayout = true;\n    else\n      state.mode = Modes.attributes;\n\n    return tokenStyles(state);\n  },\n\n  html: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html\n  },\n\n  table: function(stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n\n  tableCell: function(stream, state) {\n    if (stream.match(RE(\"tableHeading\")))\n      state.tableHeading = true;\n    else\n      stream.eat(\"|\");\n\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n\n  tableCellAttributes: function(stream, state) {\n    state.mode = Modes.tableText;\n\n    if (stream.match(RE(\"tableCellAttributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  tableText: function(stream, state) {\n    if (stream.match(RE(\"tableText\")))\n      return tokenStyles(state);\n\n    if (stream.peek() === \"|\") { // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\n\nexport const textile = {\n  startState: function() {\n    return { mode: Modes.newLayout };\n  },\n  token: function(stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}